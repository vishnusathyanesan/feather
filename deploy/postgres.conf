# PostgreSQL configuration tuned for GCloud e2-micro (1 GB RAM)
# This file overrides the default postgresql.conf

listen_addresses = '*'
port = 5432

# Memory — keep low for 1 GB VM shared with other services
shared_buffers = 32MB
work_mem = 2MB
maintenance_work_mem = 32MB
effective_cache_size = 64MB

# Connection limits
max_connections = 20

# WAL — reduce disk I/O
wal_buffers = 1MB
checkpoint_completion_target = 0.9
min_wal_size = 32MB
max_wal_size = 100MB

# Logging
log_min_duration_statement = 1000
log_line_prefix = '%t [%p]: '

# Locale
lc_messages = 'en_US.UTF-8'
lc_monetary = 'en_US.UTF-8'
lc_numeric = 'en_US.UTF-8'
lc_time = 'en_US.UTF-8'
